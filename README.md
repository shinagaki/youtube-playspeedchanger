# YouTube Playback Speed

YouTubeの動画読み込み時に自動で再生速度を変更するChrome拡張機能です。

## 機能

- **自動倍速適用**: YouTubeの動画再生時に自動で指定した倍速を適用
- **ライブ配信制御**: ライブ配信の1倍速再生を設定で切り替え可能
- **ポップアップUI**: ツールバーアイコンから素早い設定変更
- **リアルタイム設定反映**: 設定変更が再生中の動画に即座に反映
- **モダンUI**: 日本語対応の美しい設定画面
- **幅広い倍速対応**: 0.25倍速から4倍速まで0.25刻みで選択可能
- **メモリ効率**: メモリリーク対策とパフォーマンス最適化済み

## インストール方法

### Chrome Web Storeからインストール（推奨）
*現在準備中*

### 手動インストール
1. このリポジトリをダウンロードまたはクローン
2. Chromeで `chrome://extensions/` を開く
3. 右上の「デベロッパーモード」をオンにする
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. ダウンロードしたフォルダを選択

## 使い方

1. 拡張機能をインストール後、YouTubeにアクセス
2. 動画が自動で設定した倍速（デフォルト1.75倍）で再生されます
3. 設定を変更するには：
   - **ポップアップUI**: ツールバーの拡張機能アイコンをクリックして即座に設定変更
   - **詳細設定**: Chrome拡張機能一覧から「YouTube Playback Speed」の詳細→「拡張機能のオプション」
   - お好みの再生倍速を選択（0.25倍〜4倍速まで0.25刻み）
   - ライブ配信の1倍速再生もチェックボックスで制御可能
   - **再生中の動画にも即座に反映されます**

## 技術仕様

- **対応ブラウザ**: Chrome（Manifest V3対応）
- **権限**: YouTube（https://www.youtube.com/*）へのアクセス、ストレージ
- **デフォルト倍速**: 1.75倍速
- **ライブ検出**: 高精度なライブ配信検出システム
- **設定同期**: chrome.storage.sync による設定の同期

## 開発

### 構成

```
├── manifest.json        # 拡張機能の設定
├── content.js          # メインロジック（YouTubeSpeedController）
├── popup.html          # ポップアップUI
├── popup.js            # ポップアップロジック（PopupManager）
├── options.html        # 詳細設定画面UI
├── options.js          # 設定画面のロジック（OptionsManager）
├── icons/              # カスタムアイコン
├── package.json        # 開発依存関係とスクリプト
├── biome.json         # コード品質設定
├── CLAUDE.md          # 開発者向けドキュメント
├── TEST_CASES.md      # テストケース一覧
└── test-extension.sh  # テスト用スクリプト
```

### 開発環境

#### 必要なツール
- Node.js（Biome用）
- Chrome ブラウザ

#### 開発コマンド
```bash
# 依存関係のインストール
npm install

# コードの品質チェック・フォーマット
npm run check

# リントのみ実行
npm run lint

# フォーマットのみ実行
npm run format

# テスト用Chromeを起動
./test-extension.sh
```

### ローカル開発フロー

1. コードを修正
2. `npm run check` でコード品質を確認
3. `chrome://extensions/` で拡張機能を更新
4. YouTubeで機能テスト

### テストケース

- 通常動画での倍速適用
- ライブ配信の1倍速制御（有効/無効切り替え）
- ポップアップUIでの設定変更
- 設定変更の即座反映
- ページ遷移での動作継続
- メモリリーク対策

## ライセンス

MIT License

## 更新履歴

### v1.3.0（最新）
- **ポップアップUI追加**: ツールバーアイコンからの即座設定変更
- **4倍速対応**: 0.25刻みで4倍速まで拡張
- **ライブ配信制御**: チェックボックスでライブ配信の1倍速制御を切り替え可能
- **カスタムアイコン**: 独自デザインの拡張機能アイコン
- **即座反映の改善**: 設定変更時のライブ配信速度制御を修正

### v1.2.0
- **リアルタイム設定反映**: 設定変更が再生中の動画に即座に適用
- **ライブ検出の大幅改善**: より正確で信頼性の高いライブ配信検出
- **モダンUI**: 日本語完全対応の美しい設定画面
- **開発環境の整備**: Biomeによるコード品質管理、テストスクリプト
- **パフォーマンス最適化**: 不要なログ削除、メモリ使用量削減
- **エラーハンドリング強化**: より堅牢な例外処理とユーザーフィードバック

### v1.1.0
- ライブ配信の自動検出機能を追加
- メモリリーク対策を実装
- エラーハンドリングを改善
- クラスベースのアーキテクチャに変更

### v1.0.0
- 初回リリース
- 基本的な倍速再生機能を実装